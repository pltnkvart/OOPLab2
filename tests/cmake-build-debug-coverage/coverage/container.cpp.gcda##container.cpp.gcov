        -:    0:Source:/Users/plotnikovartem/CLionProjects/OOP/Lab2/container/container.cpp
        -:    0:Graph:/Users/plotnikovartem/CLionProjects/OOP/Lab2/tests/cmake-build-debug-coverage/CMakeFiles/Tests.dir/Users/plotnikovartem/CLionProjects/OOP/Lab2/container/container.cpp.gcno
        -:    0:Data:/Users/plotnikovartem/CLionProjects/OOP/Lab2/tests/cmake-build-debug-coverage/CMakeFiles/Tests.dir/Users/plotnikovartem/CLionProjects/OOP/Lab2/container/container.cpp.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "container.h"
        -:    2:#include "../input/inputFunc.h"
        -:    3:
        -:    4:/**
        -:    5: * @brief Empty constructor
        -:    6: */
function _ZN9ContainerC2Ev called 132 returned 100% blocks executed 100%
function _ZN9ContainerC1Ev called 132 returned 100% blocks executed 100%
      264:    7:Container::Container() : mass(0), volume(0), category(EMPTY) {};
      132:    7-block  0
      132:    7-block  1
        -:    8:
        -:    9:/**
        -:   10: * @brief Constructor with initialization of name, mass, volume and category
        -:   11: * @param p_name Name
        -:   12: * @param p_volume Volume
        -:   13: * @param p_mass Mass
        -:   14: * @param p_category Category
        -:   15: */
function _ZN9ContainerC2ENSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEEdd13CargoCategory called 42 returned 100% blocks executed 100%
function _ZN9ContainerC1ENSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEEdd13CargoCategory called 42 returned 100% blocks executed 100%
       84:   16:Container::Container(const std::string p_name,
        -:   17:                     const double p_volume,
        -:   18:                     const double p_mass,
        -:   19:                     const CargoCategory p_category) :
       42:   20:        name(p_name),
       42:   21:        mass(p_mass),
       42:   22:        volume(p_volume),
      126:   23:        category(p_category) {}
       42:   23-block  0
       42:   23-block  1
       42:   23-block  2
        -:   24:
        -:   25:/**
        -:   26: * @brief Constructor with initialization of mass and volume
        -:   27: * @param p_mass Mass
        -:   28: * @param p_volume Volume
        -:   29: */
function _ZN9ContainerC2Edd called 3 returned 100% blocks executed 100%
function _ZN9ContainerC1Edd called 3 returned 100% blocks executed 100%
        9:   30:Container::Container(double p_mass, double p_volume) : name("Undefined"),
        3:   31:                                                       mass(p_mass),
        3:   32:                                                       volume(p_volume),
        9:   33:                                                       category(DANGEROUS) {}
        3:   33-block  0
        3:   33-block  1
        3:   33-block  2
        -:   34:
        -:   35:/**
        -:   36: * @brief Overload output function
        -:   37: * @param is Stream from which data is entered
        -:   38: * @param container Readable structure
        -:   39: * @return Stream
        -:   40: */
function _ZlsRNSt3__113basic_ostreamIcNS_11char_traitsIcEEEERK9Container called 3 returned 100% blocks executed 60%
        3:   41:std::ostream &operator<<(std::ostream &is, const Container &container) {
        6:   42:    is << container.name << " Mass - " << container.mass << " Volume - " << container.volume
    $$$$$:   42-block  0
    $$$$$:   42-block  1
        3:   43:       << " Category - " << convertToenum(container.category) << std::endl;
        3:   43-block  0
branch  0 taken 3
branch  1 taken 0
        3:   43-block  1
branch  2 taken 3
branch  3 taken 0
        3:   44:    return is;
        3:   44-block  0
    #####:   45:}
        -:   46:
        -:   47:
        -:   48:/**
        -:   49: * @brief Setting name
        -:   50: */
function _ZN9Container7setNameENSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEE called 4 returned 100% blocks executed 100%
        4:   51:Container &Container::setName(std::string p_name) {
        4:   52:    name = p_name;
        4:   53:    return *this;
        4:   53-block  0
        -:   54:}
        -:   55:
        -:   56:/**
        -:   57: * @brief Setting mass
        -:   58: */
function _ZN9Container7setMassEd called 4 returned 100% blocks executed 100%
        4:   59:Container &Container::setMass(double p_mass) {
        4:   60:    mass = p_mass;
        4:   61:    return *this;
        4:   61-block  0
        -:   62:}
        -:   63:
        -:   64:/**
        -:   65: * @brief Setting volume
        -:   66: */
function _ZN9Container9setVolumeEd called 4 returned 100% blocks executed 100%
        4:   67:Container &Container::setVolume(double p_volume) {
        4:   68:    volume = p_volume;
        4:   69:    return *this;
        4:   69-block  0
        -:   70:}
        -:   71:
        -:   72:/**
        -:   73: * @brief Setting cargo category
        -:   74: */
function _ZN9Container11setCategoryE13CargoCategory called 4 returned 100% blocks executed 100%
        4:   75:Container &Container::setCategory(CargoCategory p_category) {
        4:   76:    category = p_category;
        4:   77:    return *this;
        4:   77-block  0
        -:   78:}
        -:   79:
        -:   80:/**
        -:   81: * @brief Overload input function
        -:   82: * @param is Stream into which data is entered
        -:   83: * @param container Writable structure
        -:   84: * @return Stream
        -:   85: */
function _ZrsRNSt3__113basic_istreamIcNS_11char_traitsIcEEEER9Container called 3 returned 100% blocks executed 62%
        3:   86:std::istream& operator>>(std::istream& is, Container& container) {
        3:   87:    std::string name;
        -:   88:    double mass, volume;
        -:   89:    int category;
        -:   90:
        3:   91:    is >> name >> mass >> volume >> category;
        3:   91-block  0
branch  0 taken 3
branch  1 taken 0
        3:   91-block  1
branch  2 taken 3
branch  3 taken 0
        3:   91-block  2
branch  4 taken 3
branch  5 taken 0
        3:   91-block  3
branch  6 taken 3
branch  7 taken 0
        3:   92:    if(is.fail()){
        3:   92-block  0
branch  0 taken 3
branch  1 taken 0
        3:   92-block  1
branch  2 taken 0
branch  3 taken 3
    #####:   93:        is.setstate(std::ios::failbit);
    $$$$$:   93-block  0
branch  0 never executed
branch  1 never executed
    #####:   94:        return is;
    $$$$$:   94-block  0
        -:   95:    }
        3:   96:    container.setName(name);
        3:   96-block  0
branch  0 taken 3
branch  1 taken 0
        3:   96-block  1
branch  2 taken 0
branch  3 taken 3
    $$$$$:   96-block  2
        3:   97:    container.setMass(mass);
        3:   98:    container.setVolume(volume);
        3:   99:    container.setCategory(CargoCategory(category));
        3:  100:    return is;
        3:  100-block  0
        3:  101:}
    $$$$$:  101-block  0
        3:  101-block  1
    $$$$$:  101-block  2
    $$$$$:  101-block  3
        -:  102:
        -:  103:/**
        -:  104: * @brief Overloading a given mass of cargo from one container to another
        -:  105: * @param massToTransfer Mass of cargo to overload
        -:  106: * @throw std::runtime_error If not transition not possible
        -:  107: * @param otherContainer Another container to overload
        -:  108: */
function _ZN9Container13transferCargoEdRS_ called 7 returned 100% blocks executed 76%
        7:  109:void Container::transferCargo(double massToTransfer, Container &otherContainer) {
        7:  110:    if (category == DANGEROUS || otherContainer.category == DANGEROUS) {
        7:  110-block  0
branch  0 taken 6
branch  1 taken 1
        6:  110-block  1
    $$$$$:  110-block  2
        6:  110-block  3
        1:  111:        throw std::runtime_error("Dangerous goods must not be combined!");
        1:  111-block  0
branch  0 taken 1
branch  1 taken 0
        1:  111-block  1
    $$$$$:  111-block  2
    $$$$$:  111-block  3
        -:  112:    }
        6:  113:    if (category != EMPTY && otherContainer.category != EMPTY && category != otherContainer.category) {
        6:  113-block  0
branch  0 taken 6
branch  1 taken 0
        6:  113-block  1
branch  2 taken 1
branch  3 taken 5
        5:  113-block  2
        5:  113-block  3
branch  4 taken 4
branch  5 taken 1
        1:  113-block  4
        1:  114:        throw std::runtime_error("Different categories!");
        1:  114-block  0
branch  0 taken 1
branch  1 taken 0
        1:  114-block  1
    $$$$$:  114-block  2
        -:  115:    }
        5:  116:    if (name != otherContainer.name && (category == BULK || category == LIQUID || category == GAS)) {
        5:  116-block  0
branch  0 taken 0
branch  1 taken 5
        5:  116-block  1
branch  2 taken 4
branch  3 taken 1
        4:  116-block  2
    $$$$$:  116-block  3
        4:  116-block  4
        4:  116-block  5
    $$$$$:  116-block  6
        4:  116-block  7
        1:  117:        throw std::runtime_error("Can't combine bulk cargo, liquids and gases of different types!");
        1:  117-block  0
branch  0 taken 1
branch  1 taken 0
        1:  117-block  1
    $$$$$:  117-block  2
        -:  118:    }
        4:  119:    if (otherContainer.category == EMPTY) {
        4:  119-block  0
branch  0 taken 3
branch  1 taken 1
        1:  120:        otherContainer.name = name;
        1:  121:        otherContainer.category = category;
        1:  122:        category = EMPTY;
        1:  123:        name = "";
        1:  124:    }
        1:  124-block  0
        4:  125:    mass -= massToTransfer;
        4:  126:    otherContainer.mass += massToTransfer;
        4:  127:    volume -= getDensity() / mass;
        4:  128:    otherContainer.volume += getDensity() / mass;
        4:  129:}
        4:  129-block  0
        -:  130:
        -:  131:/**
        -:  132: * @brief Overload all the cargo from one container to another
        -:  133: * @param otherContainer Another container to overload
        -:  134: */
function _ZN9ContainerrsERS_ called 1 returned 100% blocks executed 100%
        1:  135:void Container::operator>>(Container &otherContainer) {
        1:  136:    transferCargo(mass, otherContainer);
        1:  137:}
        1:  137-block  0
        -:  138:
        -:  139:/**
        -:  140: * @brief Getting the density of container
        -:  141: * @return Density
        -:  142: */
function _ZN9Container10getDensityEv called 10 returned 100% blocks executed 75%
       10:  143:const double Container::getDensity() {
       10:  144:    if (volume == 0) return 0;
       10:  144-block  0
branch  0 taken 0
branch  1 taken 10
    $$$$$:  144-block  1
       10:  145:    return mass / volume;
       10:  145-block  0
       10:  146:}
       10:  146-block  0
        -:  147:
        -:  148:/**
        -:  149: * @brief Adding the mass of cargo to the container
        -:  150: * @param addedMass Mass of cargo to be added
        -:  151: */
function _ZN9Container8addCargoEd called 1 returned 100% blocks executed 100%
        1:  152:void Container::addCargo(double addedMass) {
        1:  153:    double addedVolume = addedMass / getDensity();
        1:  154:    volume += addedVolume;
        1:  155:    mass += addedMass;
        1:  156:}
        1:  156-block  0
